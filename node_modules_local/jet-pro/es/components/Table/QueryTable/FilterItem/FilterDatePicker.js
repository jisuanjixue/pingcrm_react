import ProForm from '@ant-design/pro-form';
import { Input } from 'antd';
import React from 'react';
import { DatePicker, TimePicker } from '../../../../';
import { FilterType } from '../../../../dataTypes/dynamicQuery/enums';
import { FilterAndHidden, FilterTypeSelect, FilterValueTypeHidden } from './FilterExtras';
export default (function (_ref) {
  var name = _ref.name,
    label = _ref.label,
    _ref$type = _ref.type,
    type = _ref$type === void 0 ? FilterType.Equal : _ref$type,
    defaultValue = _ref.defaultValue,
    and = _ref.and,
    _ref$showFilterType = _ref.showFilterType,
    showFilterType = _ref$showFilterType === void 0 ? true : _ref$showFilterType,
    _ref$mode = _ref.mode,
    mode = _ref$mode === void 0 ? 'date' : _ref$mode;
  var style = {
    width: 'calc(100% - 100px)',
  };
  return /*#__PURE__*/ React.createElement(
    React.Fragment,
    null,
    /*#__PURE__*/ React.createElement(
      ProForm.Item,
      {
        name: name,
        label: label,
      },
      /*#__PURE__*/ React.createElement(
        Input.Group,
        {
          compact: true,
        },
        /*#__PURE__*/ React.createElement(FilterTypeSelect, {
          name: name,
          defaultType: type,
          showFilterType: showFilterType,
          types: [
            FilterType.Equal,
            FilterType.NotEqual,
            FilterType.GreaterThan,
            FilterType.GreaterThanOrEqual,
            FilterType.LessThan,
            FilterType.LessThanOrEqual,
          ],
          style: {
            width: 100,
          },
        }),
        /*#__PURE__*/ React.createElement(
          ProForm.Item,
          {
            noStyle: true,
            name: [name, 'value'],
            initialValue: defaultValue,
          },
          mode === 'time'
            ? /*#__PURE__*/ React.createElement(TimePicker, {
                style: style,
                showSecond: false,
              })
            : /*#__PURE__*/ React.createElement(DatePicker, {
                style: style,
                showTime: mode === 'dateTime',
                showSecond: false,
              }),
        ),
      ),
    ),
    /*#__PURE__*/ React.createElement(FilterValueTypeHidden, {
      name: name,
      valueType: mode,
    }),
    /*#__PURE__*/ React.createElement(FilterAndHidden, {
      name: name,
      and: and,
    }),
  );
});
