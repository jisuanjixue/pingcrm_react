import { useRef } from 'react';
import useMountUnmount from './useMountUnmount';

/**
 * 延时执行
 * @param handler 执行函数
 * @param ms 延时毫秒
 */
export default (function (handler, ms) {
  var refTimeout = useRef();
  useMountUnmount({
    mount: function mount() {
      refTimeout.current = setTimeout(function () {
        return handler();
      }, ms);
    },
    unmount: function unmount() {
      if (refTimeout.current) clearTimeout(refTimeout.current);
    },
  });
});
